<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compile Census 2020 block data for all US states once downloaded and unzipped used by census2020_get_data() — census2020_read • census2020download</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compile Census 2020 block data for all US states once downloaded and unzipped used by census2020_get_data() — census2020_read"><meta name="description" content="Compile Census 2020 block data for all US states once downloaded and unzipped
used by census2020_get_data()"><meta property="og:description" content="Compile Census 2020 block data for all US states once downloaded and unzipped
used by census2020_get_data()"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">census2020download</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/ejanalysis/census2020download/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compile Census 2020 block data for all US states once downloaded and unzipped used by <code><a href="census2020_get_data.html">census2020_get_data()</a></code></h1>
      <small class="dont-index">Source: <a href="https://github.com/ejanalysis/census2020download/blob/HEAD/R/census2020_read.R"><code>R/census2020_read.R</code></a></small>
      <div class="d-none name"><code>census2020_read.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compile Census 2020 block data for all US states once downloaded and unzipped
used by <code><a href="census2020_get_data.html">census2020_get_data()</a></code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">census2020_read</span><span class="op">(</span></span>
<span>  mystates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  folder <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sumlev <span class="op">=</span> <span class="fl">750</span>,</span>
<span>  filenumbers <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  best_header_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LOGRECNO"</span>, <span class="st">"GEOCODE"</span>, <span class="st">"AREALAND"</span>, <span class="st">"AREAWATR"</span>, <span class="st">"POP100"</span>, <span class="st">"HU100"</span>,</span>
<span>    <span class="st">"INTPTLAT"</span>, <span class="st">"INTPTLON"</span><span class="op">)</span>,</span>
<span>  best_data_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"P00"</span>, <span class="op">(</span><span class="fl">20001</span><span class="op">:</span><span class="fl">20011</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mystates">mystates<a class="anchor" aria-label="anchor" href="#arg-mystates"></a></dt>
<dd><p>can be vector of 2-letter abbreviations of states</p></dd>


<dt id="arg-folder">folder<a class="anchor" aria-label="anchor" href="#arg-folder"></a></dt>
<dd><p>path</p></dd>


<dt id="arg-sumlev">sumlev<a class="anchor" aria-label="anchor" href="#arg-sumlev"></a></dt>
<dd><p>default is 750, for blocks (but those are not available for Island Areas)</p></dd>


<dt id="arg-filenumbers">filenumbers<a class="anchor" aria-label="anchor" href="#arg-filenumbers"></a></dt>
<dd><p>a vector with any or all of 1,2,3 –
default is file 1.
File01 has Tables P1 and P2. Those are the ones with total population count.
File02 has Tables P3, P4, and H1.
File03 has Table P5.</p></dd>


<dt id="arg-best-header-cols">best_header_cols<a class="anchor" aria-label="anchor" href="#arg-best-header-cols"></a></dt>
<dd><p>default is a few key columns like POP100, GEOCODE (fips), etc.</p></dd>


<dt id="arg-best-data-cols">best_data_cols<a class="anchor" aria-label="anchor" href="#arg-best-data-cols"></a></dt>
<dd><p>default is key race ethnicity fields</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>data.frame of 1 row per block, for example</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Not extensively tested.</p>
<p>Attempts to read files already downloaded and unzipped, data files for specified states
from the US Census Bureau's website for Decennial Census file data.</p>
<p>Technical documentation of the files available from Census Bureau
and for list of possible fields etc.:</p><ul><li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/complete-tech-docs/summary-file/" class="external-link">Technical Documentation folder</a></p></li>
<li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/complete-tech-docs/summary-file/2020Census_PL94_171Redistricting_StatesTechDoc_English.pdf" class="external-link">Technical Documentation PDF for 2020 Census PL94 171 Redistricting States files</a></p></li>
<li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/complete-tech-docs/summary-file/2020Census_PL94_171Redistricting_NationalTechDoc.pdf" class="external-link">Technical Documentation PDF for 2020 Census PL94 171 Redistricting National, see pg 6-26</a></p></li>
<li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/complete-tech-docs/demographic-and-housing-characteristics-file-and-demographic-profile/2020census-demographic-and-housing-characteristics-file-and-demographic-profile-techdoc.pdf" class="external-link">DHC Technical Documentation PDF for 2020 Census details</a></p></li>
<li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/complete-tech-docs/demographic-and-housing-characteristics-file-and-demographic-profile/2020-dhc-table-matrix.xlsx" class="external-link">DHC Table Matrix xlsx </a></p></li>
<li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/island-areas-tech-docs/dhc/2020-iac-dhc-technical-documentation.pdf" class="external-link">Island Areas PDF Tech. Doc. </a></p></li>
<li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/data/island-areas/american-samoa/demographic-and-housing-characteristics-file/2020-iac-dhc-readme.pdf" class="external-link">Island Areas PDF Readme for American Samoa</a></p></li>
<li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/island-areas-tech-docs/dhc/2020-iac-dhc-technical-documentation.pdf" class="external-link">Island Areas table/file details</a>: "For a layout of the individual tables for each file, refer to Chapter 3, Subject Locator, List of Tables, and Table Matrixes and Chapter 4, Data Dictionary for Fields in the Geographic Header File in the 2020 Island Areas Censuses Demographic and Housing Characteristics Summary File
Technical Documentation." – Census Bureau e.g., table P1 is in segment 9.</p><ul><li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/island-areas-tech-docs/dhc/2020-iac-dhc-american-samoa-table-matrix.xlsx" class="external-link">American Samoa Table Matrix</a></p></li>
<li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/island-areas-tech-docs/dhc/2020-iac-dhc-cnmi-table-matrix.xlsx" class="external-link">Commonwealth of the Northern Mariana Islands Table Matrix</a></p></li>
<li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/island-areas-tech-docs/dhc/2020-iac-dhc-guam-table-matrix.xlsx" class="external-link">Guam Table Matrix</a></p></li>
<li><p><a href="https://www2.census.gov/programs-surveys/decennial/2020/technical-documentation/island-areas-tech-docs/dhc/2020-iac-dhc-usvi-table-matrix.xlsx" class="external-link">United States Virgin Islands Table Matrix</a></p></li>
</ul></li>
</ul><div class="sourceCode"><pre><code>
    for example:
 #  AREALAND      Area (Land)
 #  AREAWATR      Area (Water)

 #  BASENAME      Area Base Name
 #  NAME          Area Name-Legal/Statistical Area Description (LSAD) Term-Part Indicator
 #  FUNCSTAT      Functional Status Code
 #  GCUNI         Geographic Change User Note Indicator

 #  POP100        Population Count (100<!-- %) -->
 #  HU100         Housing Unit Count (100<!-- %) -->
 #  INTPTLAT      Internal Point (Latitude)
 #  INTPTLON      Internal Point (Longitude)

 File 1 has Table P1 and
  Table P2. HISPANIC OR LATINO, AND NOT HISPANIC OR LATINO BY RACE
 Universe: Total population
 P0020001 P0020002 P0020003 P0020004 P0020005 P0020006 P0020007 P0020008 P0020009 P0020010 P0020011 P0020012 P0020013 P0020014
 Total: P0020001
  Hispanic or Latino P0020002
 Not Hispanic or Latino: P0020003
  Population of one race: P0020004
  White alone P0020005
 Black or African American alone P0020006
 American Indian and Alaska Native alone P0020007
 Asian alone P0020008
 Native Hawaiian and Other Pacific Islander alone P0020009
 Some Other Race alone P0020010
 Population of two or more races: Population of two races: P0020011

 </code></pre></div>

<p>See the package <a href="https://github.com/GL-Li/totalcensus" class="external-link">totalcensus</a>
for another attempt to facilitate downloads of files of data.</p>
<p>See the <a href="https://walker-data.com/tidycensus/" class="external-link">tidycensus package</a> for using the API to request tabular data.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="census2020_download.html">census2020_download()</a></code> <code><a href="census2020_unzip.html">census2020_unzip()</a></code> <code><a href="census2020_get_data.html">census2020_get_data()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span> <span class="co"># library(census2020download)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="census2020_download.html">census2020_download</a></span><span class="op">(</span><span class="st">'./census2020zip'</span>, mystates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'MD'</span>, <span class="st">'DC'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="census2020_unzip.html">census2020_unzip</a></span><span class="op">(</span><span class="st">'./census2020zip'</span>,<span class="st">'./census2020out'</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">c2</span> <span class="op">&lt;-</span> <span class="fu">census2020_read</span><span class="op">(</span>folder <span class="op">=</span> <span class="st">'./census2020out'</span>, mystates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'MD'</span>, <span class="st">'DC'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">c2</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">c2</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">c2</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">c2</span><span class="op">$</span><span class="va">POP100</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="va">c2</span><span class="op">$</span><span class="va">INTPTLON</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">c2</span><span class="op">$</span><span class="va">GEOCODE</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span> <span class="op">==</span> <span class="st">'24'</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>   <span class="va">c2</span><span class="op">$</span><span class="va">INTPTLAT</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">c2</span><span class="op">$</span><span class="va">GEOCODE</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span> <span class="op">==</span> <span class="st">'24'</span><span class="op">]</span>, pch <span class="op">=</span> <span class="st">'.'</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">c2</span><span class="op">$</span><span class="va">LOGRECNO</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">c2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu">census2020download</span><span class="fu">::</span><span class="va"><a href="census_col_names_map.html">census_col_names_map</a></span><span class="op">$</span><span class="va">rname</span><span class="op">[</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">blocks2020</span><span class="op">)</span>, <span class="fu">census2020download</span><span class="fu">::</span><span class="va"><a href="census_col_names_map.html">census_col_names_map</a></span><span class="op">$</span><span class="va">ftpname</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">]</span></span></span>
<span class="r-in"><span> <span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mark Corrales.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

